spring.application.name=learning-platform-backend

# --- Database Configuration ---
# Syntax: ${ENV_VAR_NAME:default_value}
# If DB_URL is set in Render, it uses that. If not, it uses localhost.
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/learning_db}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:root}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- Server Configuration ---
# Render often assigns a dynamic port, so we must let it override 4041
server.port=${PORT:4041}
spring.main.allow-bean-definition-overriding=true

# --- Security ---
# It is best practice to inject the secret, but I've kept yours as the default
jwt.secret=${JWT_SECRET:5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437}

# --- Swagger / OpenAPI ---
springdoc.swagger-ui.path=/swagger-ui.html
# CRITICAL: This fixes Swagger "Failed to load remote configuration" on HTTPS (Render)
server.forward-headers-strategy=framework